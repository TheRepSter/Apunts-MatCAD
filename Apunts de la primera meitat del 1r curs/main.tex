\documentclass[a4paper,12pt]{article}
\usepackage{silence}
\WarningsOff
\usepackage{graphicx}
\usepackage{tabularx}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{mathtools}
\usepackage{titlesec}
\usepackage{hyperref}
\usepackage{letltxmacro}
\usepackage{yfonts}
\usepackage{subfiles}
\usepackage{amsthm}
\graphicspath{{images/}}

\newtheorem*{teorema}{Teorema}
\newtheorem*{corolari}{Corol·lari}
\newtheorem*{lema}{Lema}
\newtheorem*{proposicio}{Proposició}
\theoremstyle{remark}
\newtheorem*{obs}{Observació}
\newtheorem*{fet}{Fet}
\newtheorem*{exemple}{Exemple}
\newtheorem*{demostracio}{Demostració}
\newtheorem*{idea}{Idea}
\newtheorem*{pregunta}{Pregunta}
\theoremstyle{definition}
\newtheorem*{definicio}{Definició}

\makeatletter
\let\oldr@@t\r@@t
\def\r@@t#1#2{
\setbox0=\hbox{$\oldr@@t#1{#2\,}$}\dimen0=\ht0
\advance\dimen0-0.2\ht0
\setbox2=\hbox{\vrule height\ht0 depth -\dimen0}
{\box0\lower0.4pt\box2}}
\LetLtxMacro{\oldsqrt}{\sqrt}
\renewcommand*{\sqrt}[2][\ ]{\oldsqrt[#1]{#2} }
\makeatother


\titleformat{\section}[display]{\bfseries\huge\itshape}{ }{0.1ex}{
    \newpage
    \pagenumbering{gobble}
    \scshape
    \centering
    \raisebox{-\baselineskip}{\rule{\textwidth}{1px}}
    \rule{\textwidth}{1px}
}[
    \rule{\textwidth}{2px}
    \newpage
    \pagenumbering{arabic}
]

\begin{document}
    \input{title}
    \tableofcontents
    \section{Àlgebra Lineal}
    \subfile{subfiles/Àlgebra}
    \section{Càlcul en una variable}
    \subfile{subfiles/Càlcul-1}
    \section{Introducció a la programació}
    \subfile{subfiles/Prog}
    \section{Programari de sistema}
    \subfile{subfiles/Sistema}
    \section{Fonaments dels computadors}
    \subfile{subfiles/fonaments}
\end{document}